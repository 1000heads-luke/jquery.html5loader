{"name":"Jquery.html5loader","tagline":"jQuery.html5Loader can preload images, html5 video and audio sources, scripts, css, and text files.","body":"# Introduction\r\njQuery.html5Loader can preload <b>images</b>, html5 <b>video</b> and <b>audio</b> sources, <b>css</b>, <b>scripts</b> and <b>text</b> files.\r\nThis plugin needs a <b>JSON</b> file to get the files that must be preloaded (you can use also use a javascript object as well), and it provides an easy API to give you the the amount of file loaded in percentage.\r\n\r\nAll the javascript and css files will be automatically loaded and injected into the DOM\r\n\r\n\r\n## Features\r\n* <b>smart</b>: it loads just the sources supported by the client running the script.\r\n* <b>flexible</b>: it returns the current percentage and the object loaded, so you could be free to show this info as you like\r\n* <b>fun</b>: inside the package you could find some preloading animation examples, customizable and ready to use\r\n\r\n\r\n\r\n\r\n## Demos\r\n - [nprogress preloader](http://gianlucaguarini.github.io/jquery.html5loader/examples/demo-nprogress.html) by [Rico Sta. Cruz](https://github.com/rstacruz/nprogress)\r\n - [Append the files loaded on the fly](http://gianlucaguarini.github.io/jquery.html5loader/examples/demo-append-sources.html)\r\n - [Big counter animation](http://gianlucaguarini.github.io/jquery.html5loader/examples/demo-big-counter.html)\r\n - [Circular preloader](http://gianlucaguarini.github.io/jquery.html5loader/examples/demo-circular.html)\r\n - [Line preloader](http://gianlucaguarini.github.io/jquery.html5loader/examples/demo-line.html)\r\n\r\n## Production websites using jQuery.html5loader\r\n - http://www.mobi-myhome.ch\r\n - http://lindberghallee.ch\r\n\r\n# USAGE\r\n\r\n### 1 Create a JSON file like this, containing all the files you need to preload ( size in bytes ):\r\n\r\n<pre lang=\"json\">\r\n{\r\n    \"files\": [\r\n      {\r\n        \"type\":\"SCRIPT\",\r\n        \"source\":\"../path/to/your/script.js\",\r\n        \"size\":4.096,\r\n        \"stopExecution\":true\r\n      },\r\n      {\r\n        \"type\":\"SCRIPT\",\r\n        \"source\":\"../path/to/your/script.js\",\r\n        \"size\":4.096,\r\n        \"stopExecution\":false\r\n      },\r\n      {\r\n        \"type\":\"IMAGE\",\r\n        \"source\":\"../path/to/your/image.jpg\",\r\n        \"size\":620\r\n      },\r\n      {\r\n        \"type\": \"CSS\",\r\n        \"source\": \"../files/test.css\",\r\n        \"size\": 16.819\r\n      },\r\n      {\r\n        \"type\":\"TEXT\",\r\n        \"source\":\"../path/to/your/text.txt\",\r\n        \"size\":44\r\n      },\r\n      {\r\n        \"type\":\"VIDEO\",\r\n        \"sources\": {\r\n          \"webm\":{\r\n            \"source\":\"../path/to/your/video.webm\",\r\n            \"size\":5054.976\r\n          },\r\n          \"ogg\":{\r\n            \"source\":\"../path/to/your/video.ogg\",\r\n            \"size\":2932.736\r\n          },\r\n          \"h264\":{\r\n            \"source\":\"../path/to/your/video.mp4\",\r\n            \"size\":9285.632\r\n          },\r\n          \"vp9\": {\r\n              \"source\":\"../path/to/your/video.webm\",\r\n              \"size\":9285.632\r\n            }\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"type\":\"AUDIO\",\r\n        \"sources\": {\r\n          \"mp3\":{\r\n            \"source\":\"../path/to/your/audio.mp3\",\r\n            \"size\":9285.632\r\n          },\r\n          \"ogg\":{\r\n            \"source\":\"../path/to/your/audio.ogg\",\r\n            \"size\":2089.688\r\n          },\r\n          \"opus\": {\r\n            \"source\": \"../path/to/your/audio.opus\",\r\n            \"size\":2000.20\r\n          },\r\n          \"wav\": {\r\n            \"source\": \"../path/to/your/audio.wav\",\r\n            \"size\":2000.20\r\n          },\r\n          \"m4a\": {\r\n            \"source\": \"../path/to/your/audio.m4a\",\r\n            \"size\":2000.20\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n</pre>\r\n\r\n### 2 Import the plugin into your page:\r\n\r\n<pre lang=\"html\">\r\n&lt;script src=&quot;http://code.jquery.com/jquery-latest.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;../js/jQuery.html5Loader.js&quot;&gt;&lt;/script&gt;\r\n</pre>\r\n\r\n### 3 Initialize the plugin setting the callback functions:\r\n\r\n<pre lang=\"javascript\">\r\n$.html5Loader({\r\n      filesToLoad:    '../js/files.json', // this could be a JSON or simply a javascript object\r\n      onBeforeLoad:       function () {},\r\n      onComplete:         function () {},\r\n      onElementLoaded:    function ( obj, elm) { },\r\n      onUpdate:           function ( percentage ) {}\r\n});\r\n</pre>\r\n\r\n# API\r\n## Methods\r\n- <code>onBeforeLoad</code> It is triggered right before the plugin starts loading all the files\r\n- <code>onComplete</code> It is triggered when the plugin finishes to load all the sources\r\n- <code>onMediaError</code> This function is called in case there's an error during the preloading\r\n  - <code>obj</code> original object passed to the plugin\r\n  - <code>elm</code> html output (for type \"SCRIPT\" and \"TEXT\" this value is just a string)\r\n- <code>stopExecution</code> (false by default) : default behavior for all the script files, they won't execute when loaded. This behavior can be changed by each script object passed to the plugin\r\n- <code>onElementLoaded</code> It is triggered anytime a new element of your files list gets loaded, (ATTENTION IF AN ELEMENT IS NOT SUPPORTED IT WILL NEVER PASS TROUGH THIS FUNCTION).\r\n  - <code>obj</code> original object passed to the plugin\r\n  - <code>elm</code> html output (for type \"SCRIPT\" and \"TEXT\" this value is just a string)\r\n- <code>onUpdate</code> it is triggered anytime new bytes are loaded\r\n  - <code>percentage</code> the percentage currently loaded\r\n\r\n# KNOWN ISSUES\r\n- Internet Explorer 9 and 10 do not return any value using the method <code>canPlayType</code> on a video or audio element ( http://modernizr.com/docs/#audio ). For these browsers we don't preload any HTML5 media format\r\n- on mobile devices and on the iPad we cannot load any video or audio element because these devices can't preload those kind of elements until the user start dealing with them\r\n\r\n# CHANGELOG\r\n\r\n## v1.6.8\r\n\r\n- small refactor\r\n- added: new media file codecs tests\r\n - video: vp9\r\n - audio: opus, wav, m4a\r\n- added: stopExecution option\r\n- added: stopExecution option via json\r\n- added: nprogress demo\r\n\r\n","google":"UA-8059670-3","note":"Don't delete this file! It's used internally to help with page regeneration."}